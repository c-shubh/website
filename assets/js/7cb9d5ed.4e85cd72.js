"use strict";(self.webpackChunkwebsite_docu=self.webpackChunkwebsite_docu||[]).push([[6412],{7761:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>n,metadata:()=>r,toc:()=>o});var s=a(4848),i=a(8453);const n={date:new Date("2024-11-23T00:00:00.000Z"),slug:"til-accessing-app-data-adb",title:"TIL Accessing App Data using ADB",authors:"shubh",tags:["TIL"]},c=void 0,r={permalink:"/blog/til-accessing-app-data-adb",editUrl:"https://github.com/c-shubh/website/tree/main/blog/2024-11-23-til-accessing-app-data-adb.md",source:"@site/blog/2024-11-23-til-accessing-app-data-adb.md",title:"TIL Accessing App Data using ADB",description:"While working on an Android app, I had some issues with the SQLite database and wanted to delete it. This db is stored in the app's internal data directory (/data/data/com.cshubh.myapp), which is inaccessible using file managers on the device.",date:"2024-11-23T00:00:00.000Z",tags:[{inline:!1,label:"TIL",permalink:"/blog/tags/til",description:"Today I Learnt"}],readingTime:.82,hasTruncateMarker:!0,authors:[{name:"Shubh A Chudasama",url:"/",title:"Builder | Materializing ideas into reality.",socials:{linkedin:"https://www.linkedin.com/in/c-shubh/",github:"https://github.com/c-shubh"},imageURL:"/img/profile-pic.png",key:"shubh",page:null}],frontMatter:{date:"2024-11-23T00:00:00.000Z",slug:"til-accessing-app-data-adb",title:"TIL Accessing App Data using ADB",authors:"shubh",tags:["TIL"]},unlisted:!1,prevItem:{title:"TIL Parity check with %",permalink:"/blog/til-parity-check-with-mod"},nextItem:{title:"TIL Typo Tolerance in Passwords",permalink:"/blog/til-typo-tolerance-in-passwords"}},d={authorsImageUrls:[void 0]},o=[];function l(e){const t={code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["While working on an Android app, I had some issues with the SQLite database and wanted to delete it. This db is stored in the app's internal data directory (",(0,s.jsx)(t.code,{children:"/data/data/com.cshubh.myapp"}),"), which is inaccessible using file managers on the device."]}),"\n",(0,s.jsx)(t.p,{children:"Android Studio has Device Explorer which allows us to access the internal data directory of a debuggable app, but I didn't want to open that resource hungry IDE for such a simple task. There had to be a way to do it using adb."}),"\n",(0,s.jsx)(t.p,{children:"Here it is:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"adb shell\r\nrun-as com.cshubh.myapp\n"})}),"\n",(0,s.jsxs)(t.p,{children:["It drops you into a shell in the app directory ",(0,s.jsx)(t.code,{children:"/data/user/0/com.cshubh.myapp"})," where you can manipulate files and directories."]}),"\n",(0,s.jsx)(t.p,{children:"Pulling a file from the data directory (here, sqlite db):"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"adb exec-out run-as com.cshubh.myapp cat files/SQLite/myapp.db > pulled.db\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Use ",(0,s.jsx)(t.code,{children:"tar"})," for directories, and ",(0,s.jsx)(t.code,{children:"cat"})," the archive file instead."]}),"\n",(0,s.jsx)(t.p,{children:"Pushing a file to data directory (here, scratch.txt):"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'adb push scratch.txt "/data/local/tmp/"\r\nadb shell\r\nrun-as com.cshubh.myapp\r\ncp /data/local/tmp/scratch.txt .\n'})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>c,x:()=>r});var s=a(6540);const i={},n=s.createContext(i);function c(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);